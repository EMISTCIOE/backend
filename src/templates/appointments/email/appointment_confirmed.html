<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Confirmed - TCIOE EMIS</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border: 1px solid #ddd;
        }
        .header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            display: block;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        .content {
            padding: 25px;
        }
        h1 {
            font-size: 24px;
            margin: 0 0 15px;
            color: #2c3e50;
        }
        p {
            margin: 0 0 15px;
            line-height: 1.5;
        }
        .appointment-details {
            background: #f8f9fa;
            border-left: 3px solid #2c3e50;
            padding: 15px;
            margin: 20px 0;
        }
        .appointment-details p {
            margin: 5px 0;
        }
        .status-badge {
            background: #28a745;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            display: inline-block;
            margin: 10px 0;
        }
        .status-badge.pending {
            background: #ffc107;
            color: #212529;
        }
        .status-badge.rejected {
            background: #dc3545;
        }
        .alert {
            padding: 12px;
            margin: 15px 0;
            border-radius: 4px;
            font-size: 14px;
        }
        .alert-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        .footer {
            background: #2c3e50;
            color: white !important;
            padding: 20px;
            text-align: center;
        }
        .footer * {
            color: white !important;
        }
        .footer-logo-fallback {
            background: #34495e;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            margin: 0 auto 15px;
            text-align: center;
            line-height: 60px;
            font-size: 20px;
            font-weight: bold;
            color: white !important;
        }
        .footer-section {
            color: white !important;
            font-size: 13px;
            line-height: 1.6;
            margin: 10px 0;
        }
        .footer-section strong {
            color: white !important;
            font-size: 14px;
            margin-bottom: 8px;
            display: block;
        }
        .footer-link {
            color: #1abc9c !important;
            text-decoration: none;
        }
        .footer-link:visited {
            color: #1abc9c !important;
        }
        .social-icon {
            display: inline-block;
            margin: 0 8px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
        }
        .copyright {
            font-size: 12px;
            color: white !important;
            margin-top: 15px;
            border-top: 1px solid #34495e;
            padding-top: 15px;
        }
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .content {
                padding: 20px;
            }
            .header h2 {
                font-size: 18px !important;
            }
            .logo {
                width: 60px !important;
                height: 60px !important;
            }
            .footer-logo-fallback {
                width: 50px !important;
                height: 50px !important;
                line-height: 50px !important;
                font-size: 18px !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img
                src="https://res.cloudinary.com/deibqsazd/image/upload/v1763796707/logo_kbfjba.png"
                alt="TCIOE Logo"
                class="logo"
                onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
            />
            <div class="footer-logo-fallback" style="display: none">TC</div>
            <h2 style="margin: 0; font-size: 22px; font-weight: 600; color: white">
                TCIOE EMIS System
            </h2>
            <p style="margin: 8px 0 5px; font-size: 14px; opacity: 0.9; color: white">
                Thapathali Campus, Institute of Engineering
            </p>
            <p style="margin: 0; font-size: 12px; opacity: 0.8; line-height: 1.4; color: white;">
                Leading Technical Education Institution<br />
                Excellence in Engineering & Technology
            </p>
        </div>

        <div class="content">            <h1>‚úÖ Appointment Confirmed!</h1>
            <p>Dear {{ appointment.applicant_name }},</p>
            <p>Great news! Your appointment request has been <strong>confirmed</strong> by {{ appointment.confirmed_by.get_full_name|default:appointment.confirmed_by.email }}.</p>
            
            <div class="status-badge">‚úÖ Status: Confirmed</div>
            
            <div class="appointment-details">
                <h3 style="margin-top: 0; color: #28a745;">üìÖ Confirmed Appointment Details</h3>
                <p><strong>Appointment ID:</strong> #{{ appointment.id }}</p>
                <p><strong>Applicant Name:</strong> {{ appointment.applicant_name }}</p>
                <p><strong>Email:</strong> {{ appointment.applicant_email }}</p>
                <p><strong>Designation:</strong> {{ appointment.applicant_designation }}</p>
                <p><strong>Official:</strong> {{ appointment.category.display_name }}</p>
                {% if appointment.department %}
                <p><strong>Department:</strong> {{ appointment.department.name }}</p>
                {% endif %}
                <p><strong>Date & Time:</strong> {{ appointment.appointment_datetime|date:"F j, Y g:i A" }}</p>
                <p><strong>Purpose:</strong> {{ appointment.purpose }}</p>
                <p><strong>Confirmed By:</strong> {{ appointment.confirmed_by.get_full_name|default:appointment.confirmed_by.email }}</p>
                <p><strong>Confirmed On:</strong> {{ appointment.confirmed_at|date:"F j, Y g:i A" }}</p>
            </div>
            
            <div class="alert alert-info">
                <strong>üìù Important Reminders:</strong><br />
                ‚Ä¢ <strong>Arrive 10 minutes early</strong> for your appointment<br />
                ‚Ä¢ Bring a <strong>valid ID</strong> and any relevant documents<br />
                ‚Ä¢ If you need to reschedule or cancel, please contact the office as soon as possible<br />
                ‚Ä¢ Come prepared with your questions and required materials
            </div>
            
            {% if appointment.admin_notes %}
            <div class="alert alert-warning">
                <strong>üìå Additional Notes from Office:</strong><br />
                {{ appointment.admin_notes }}
            </div>
            {% endif %}
            
            <p>We look forward to seeing you at your scheduled appointment!</p>        </div>
        
        <div class="footer">
            <!-- Footer Logo - Gmail Compatible -->
            <div style="margin-bottom: 20px; text-align: center">
                <img
                    src="https://res.cloudinary.com/deibqsazd/image/upload/v1763796707/logo_kbfjba.png"
                    alt="TCIOE Logo"
                    width="60"
                    height="60"
                    style="border-radius: 8px; margin: 0 auto 15px; display: block"
                    onerror="this.style.display='none'; document.getElementById('footer-fallback-logo').style.display='block';"
                />
                <div id="footer-fallback-logo" class="footer-logo-fallback" style="display: none">
                    TC
                </div>

                <div style="font-size: 18px; font-weight: bold; color: white !important; margin-bottom: 5px;">
                    TCIOE EMIS System
                </div>
                <div style="font-size: 13px; color: #1abc9c !important; margin-bottom: 20px;">
                    Thapathali Campus, Institute of Engineering<br />
                    Educational Management Information System
                </div>
            </div>

            <!-- Footer Content - Using simple table layout for Gmail compatibility -->
            <table width="100%" cellpadding="0" cellspacing="0" border="0" style="margin: 20px 0">
                <tr>
                    <td width="33%" style="text-align: center; vertical-align: top; padding: 0 10px">
                        <div class="footer-section">
                            <strong style="color: white !important">Contact</strong>
                            <div style="margin: 8px 0; color: white !important">
                                üìß <a href="mailto:admin@tcioe.edu.np" class="footer-link">admin@tcioe.edu.np</a>
                            </div>
                            <div style="margin: 8px 0; color: white !important">
                                üìç Thapathali, Kathmandu
                            </div>
                        </div>
                    </td>

                    <td width="33%" style="text-align: center; vertical-align: top; padding: 0 10px">
                        <div class="footer-section">
                            <strong style="color: white !important">Quick Links</strong>
                            <div style="margin: 8px 0; color: white !important">
                                üîó <a href="https://tcioe.edu.np" class="footer-link">TCIOE</a>
                            </div>
                            <div style="margin: 8px 0; color: white !important">
                                üè´ <a href="https://emis.tcioe.edu.np/volunteers" class="footer-link">EMIS System</a>
                            </div>
                        </div>
                    </td>

                    <td width="33%" style="text-align: center; vertical-align: top; padding: 0 10px">
                        <div class="footer-section">
                            <strong style="color: white !important">Connect</strong>
                            <div style="margin: 15px 0">
                                <a href="https://www.facebook.com/thapathali.ioe" target="_blank" style="text-decoration: none; margin: 0 8px">
                                    <img src="https://app-rsrc.getbee.io/public/resources/social-networks-icon-sets/circle-color/facebook@2x.png" width="32" height="32" alt="Facebook" class="social-icon" style="border-radius: 50%; display: inline-block" />
                                </a>
                                <a href="https://www.linkedin.com/school/tcioe" target="_blank" style="text-decoration: none; margin: 0 8px">
                                    <img src="https://app-rsrc.getbee.io/public/resources/social-networks-icon-sets/circle-color/linkedin@2x.png" width="32" height="32" alt="LinkedIn" class="social-icon" style="border-radius: 50%; display: inline-block" />
                                </a>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>

            <div class="copyright">
                ¬© {{{{ current_year|default:"2025" }}}} Thapathali Campus, Institute of Engineering. All rights reserved.<br />
                This is an automated message. Please do not reply to this email.<br />
            </div>
        </div>
    </div>
</body>
</html>